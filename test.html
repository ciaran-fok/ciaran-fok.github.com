<!DOCTYPE html>
<html>
    <script src="js/lunr.js"></script>
    <!-- <script src="js/test.js"></script> -->
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/12.0.1/marked.min.js" integrity="sha512-pSeTnZAQF/RHxb0ysMoYQI/BRZsa5XuklcrgFfU3YZIdnD3LvkkqzrIeHxzFi6gKtI8Cpq2DEWdZjMTcNVhUYA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- <div id="markdown-content"></div>
    <div>
        Markdown content goes here
        <p>Write your name below:</p>
        <input type="text" id="textInput" placeholder="Type something and press Enter">
        <div id="output"></div>

      </div>


      <script>
      
        // Convert Markdown to HTML

        function display () {

        }

        function search () {
            return 
        }

        function mySearch (toSearch) {
            fetch('all_blogs.json').then(function (response) {
	        // The API call was successful!
            return response.json();
            }).then(function (data) {
            // This is the JSON from our response
            // console.log(data);
            var index = data["all_blogs"]; 

            var idx = lunr(function () {
                this.ref('id')
                this.field('txt')
                this.field('tags')


                index.forEach(function (doc) {
                this.add(doc)
                }, this)
            })

            console.log(idx.search(toSearch))
            // index.forEach(myFunction);
            console.log(index)
            console.log(idx)
        }).catch(function (err) {
            // There was an error
            console.warn('Something went wrong.', err);
        });
        }
        

        const inputField = document.getElementById('textInput');
        const outputDiv = document.getElementById('output');

        // Function to handle key press event
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                const value = event.target.value;
                outputDiv.textContent = value;
                // Clear input field after pressing Enter
                inputField.value = '';
                mySearch (value);
            }
        }

        function handleInput(event) {
            const value = event.target.value;
            outputDiv.textContent = value;
        }

        // Attach key press event listener to the input field
        inputField.addEventListener('keypress', handleKeyPress);
        // inputField.addEventListener('input', handleInput);
        
        fetch('blog/1/This_Is_A_Title.md').then(function (response) {
	        // The API call was successful!
            return response.text();
            }).then(function (data) {
                // This is the JSON from our response
                console.log(data);
                // pre
                var htmlText = marked.parse(data);
                // post
      
            // Update the content of the div with id "markdown-content"
            document.getElementById('markdown-content').innerHTML = htmlText;
            })

        markdownText = `#### Heading 1`
        

        // const sample = require('all_blogs.json');
        // console.log(sample);
      </script> -->

      <body>
        <div style="height: fit-content;">
            <div id="target" style="background-color: rgba(0, 128, 0, 0.103); position: absolute; top:0; left: 0; width: 100vw; ">
                <div id="stick" style="position: sticky; color:red; height: 200px; background-color: purple; top: 30px; z-index: 999;"> owebobvauobv</div>
                <div style="background-color: rgba(255, 0, 0, 0.053); position:relative; width: 100vw; height: 200px;"> </div>
                
                <div style="background-color: rgba(128, 128, 0, 0.537); z-index:999; position: relative; width: 100vw; height: 100%;">
                    osudobcuouaouvboubuouavouboaa<br><br><br><br>
                    dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo</div>
                    <div style="background-color: rgba(128, 128, 0, 0.537); z-index:999; position: relative; width: 100vw; height: 100%;">
                        osudobcuouaouvboubuouavouboaa<br><br><br><br>
                        dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo</div>
                        <div style="background-color: rgba(128, 128, 0, 0.537); z-index:999; position: relative; width: 100vw; height: 100%;">
                            osudobcuouaouvboubuouavouboaa<br><br><br><br>
                            dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo<br><br><br><br>dbvouabosuvbo</div>
                </div>
            <div id="source" style="background-color: rgb(0, 4, 128); position: absolute; top:0; left: 0; width: 100vw; height: 3141px;">
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
                <p>hih</p>
            </div>
        </div>
        <script>
            var h = document.getElementById("source").getBoundingClientRect().height;
            console.log(h)
            document.getElementById("target").style.height = `${h}px`;
            // console.log(h)
            var h = document.getElementById("source").getBoundingClientRect().height;
            console.log(h)
            t = document.getElementById("stick");
            t.style.transform = `translateX(-20px)`;
        </script>
      </body>
</html>
